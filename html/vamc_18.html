<div class="container">

<table style="width: 100%;"><tr>
<td>valuatePortfolio</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Valuate a Portfolio</h2>

<h3>Description</h3>

<p>Valuate a portfolio VA policies specified in each curPolicy of inPortfolio
based on the simulated fund scenarios fundScen.
The time step length is specified in dT and the discount rate for each period
is specified in df.
</p>


<h3>Usage</h3>

<pre><code class="language-R">valuatePortfolio(inPortfolio, mortTable, fundScen, dT = 1/12, df)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>inPortfolio</code></td>
<td>
<p>A dataframe containing numPolicy rows and 45 attributes
of each VA policy.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mortTable</code></td>
<td>
<p>A dataframe with three columns of doubles representing the
mortality table.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>fundScen</code></td>
<td>
<p>A numScen-by-numStep-by-numFund array of doubles of
return factors (i.e., exp(mu_t dt)) in each period.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dT</code></td>
<td>
<p>A double of stepsize in years; dT = 1 / 12 would be monthly.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A vector of doubles of risk-free discount rates of different tenor
(not forward rates), should have length being numStep.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>Outputs a list of doubles of portVal, the sum of average discounted
payoff of the VAs in inPortfolio, portRC, the sum of average discounted
risk charges of the VAs in inPortfolio, and vectors of doubles of these
average discounted values for each policy.
</p>


<h3>Examples</h3>

<pre><code class="language-R">fundScen &lt;- genFundScen(fundMap, indexScen)[1, , ]
valuatePortfolio(VAPort[1:2, ], mortTable, fundScen, 1 / 12, cForwardCurve)
</code></pre>


</div>