<div class="container">

<table style="width: 100%;"><tr>
<td>severity_ribbon_plot</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>severity_ribbon_plot</h2>

<h3>Description</h3>

<p>This function generates a ribbon plot for given utility columns, based on weighted statistics.
</p>


<h3>Usage</h3>

<pre><code class="language-R">severity_ribbon_plot(
  df,
  utility_columns,
  weight_column = "VAS",
  weight_range = c(0:100),
  weight_values = NULL,
  weight_function = .makeWeightsMixed,
  sample_size = 1000,
  number_of_samples = 1000,
  probability_levels = c(min = 0, `2.5%` = 0.025, `25%` = 0.25, median = 0.5, `75%` =
    0.75, `97.5%` = 0.975, max = 1),
  graph_title = "",
  x_axis_title = "",
  y_axis_title = "",
  legend_name = "Type",
  legend_labels = NULL,
  y_axis_limits = c(0.15, 0.95),
  y_min_value = "2.5%",
  y_max_value = "97.5%",
  alpha_1 = 0.15,
  alpha_2 = 0.05,
  linetype_1 = 1,
  linetype_2 = 2,
  interpretation_quartiles = c(0, 0.25, 0.5, 0.75, 1),
  elevation_threshold = 0.05,
  slope_threshold = 0.02,
  color_palette = NULL,
  weighted_statistics = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>df</code></td>
<td>
<p>A data frame containing the utility and weight columns.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>utility_columns</code></td>
<td>
<p>A character vector specifying the utility columns for which the ribbon plot will be generated.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight_column</code></td>
<td>
<p>A string specifying the column that contains the weights. Default is "VAS".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight_range</code></td>
<td>
<p>A numeric vector specifying the range of weights. Default is c(0:100).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight_values</code></td>
<td>
<p>A numeric vector specifying the weight values to be used. Default is NULL, in which case the weight_range will be used.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weight_function</code></td>
<td>
<p>A function to generate weights. Default is .makeWeightsMixed.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>sample_size</code></td>
<td>
<p>An integer specifying the sample size for bootstrapping. Default is 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>number_of_samples</code></td>
<td>
<p>An integer specifying the number of bootstrap samples. Default is 1000.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>probability_levels</code></td>
<td>
<p>A named vector specifying the probability levels for quantile.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>graph_title</code></td>
<td>
<p>A string specifying the title of the graph. Default is an empty string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_axis_title</code></td>
<td>
<p>A string specifying the title for the x-axis. Default is an empty string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_axis_title</code></td>
<td>
<p>A string specifying the title for the y-axis. Default is an empty string.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend_name</code></td>
<td>
<p>A string specifying the name for the legend. Default is "Type".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>legend_labels</code></td>
<td>
<p>A character vector specifying the labels for the legend. Default is NULL.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_axis_limits</code></td>
<td>
<p>A numeric vector specifying the limits for the y-axis. Default is c(0.15, 0.95).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_min_value</code></td>
<td>
<p>A string specifying the minimum value for the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>y_max_value</code></td>
<td>
<p>A string specifying the maximum value for the y-axis.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_1</code></td>
<td>
<p>A numeric value between 0 and 1 to define the transparency of the interquartile range. Default is 0.15.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>alpha_2</code></td>
<td>
<p>A numeric value between 0 and 1 to define the transparency of the confidence interval range. Default is 0.05.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linetype_1</code></td>
<td>
<p>A numeric value between 0 and 1 to define the line type of the interquartile range. Default is 1 "solid".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>linetype_2</code></td>
<td>
<p>A numeric value between 0 and 1 to define the line type of the confidence interval range. Default 2 "dashed".</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>interpretation_quartiles</code></td>
<td>
<p>A numeric vector of values between 0 and 1 to define the quantile ranges for the figure interpretation. Default is c(0, 0.25, 0.5, 0.75, 1)</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>elevation_threshold</code></td>
<td>
<p>A numeric value specifying the threshold for elevation differences. Default is 0.05.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>slope_threshold</code></td>
<td>
<p>A numeric value specifying the threshold for slope differences. Default is 0.02.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>color_palette</code></td>
<td>
<p>A character vector specifying the color palette for the plot. Default is c("#8dd3c7", "#bebada", "#80b1d3", "#fb8072", "#ffff67", "#fdb462", "#b3de69", "#fccde5", "#d9d9d9", "#bc80bd").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>weighted_statistics</code></td>
<td>
<p>An optional data frame of pre-computed weighted statistics. Default is NULL.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A list containing three elements: 'df' which is a data frame of weighted statistics, 'plot' which is the ggplot object representing the ribbon plot and 'interpretation' with the automatic interpretation of the ribbon plot.
</p>


<h3>Examples</h3>

<pre><code class="language-R">
  # Define dimension names for EQ-5D-3L and EQ-5D-5L
  dim.names.3L &lt;- c("mobility", "selfcare", "activity", "pain", "anxiety")
  dim.names.5L &lt;- c("mobility5L", "selfcare5L", "activity5L", "pain5L", "anxiety5L")
  # Compute EQ-5D scores using the eq5dsuite package
  cdta$EQ5D3L &lt;- eq5dsuite::eq5d3l(x = cdta,
                                   country = "US", 
                                   dim.names = dim.names.3L)
  cdta$EQ5D5L &lt;- eq5dsuite::eq5d5l(x = cdta, 
                                   country = "US", 
                                   dim.names = dim.names.5L)
  cdta$EQXW &lt;- eq5dsuite::eqxw(x = cdta, 
                               country = "US", 
                               dim.names = dim.names.5L)
  # Get severity ribbon plot
  result &lt;- severity_ribbon_plot(df = cdta, utility_columns = c("EQ5D3L", "EQ5D5L", "EQXW"))

</code></pre>


</div>