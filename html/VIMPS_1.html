<div class="container">

<table style="width: 100%;"><tr>
<td>calc_vimps</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>calc_vimps</h2>

<h3>Description</h3>

<p>Calculate the variable importance of the domains for a given
dataset
</p>


<h3>Usage</h3>

<pre><code class="language-R">calc_vimps(
  dat,
  dep_var,
  doms,
  calc_ko = TRUE,
  calc_dom = FALSE,
  num_folds = 10,
  num_kos = 100,
  model_all = normal_model,
  model_subset = one_tree_model,
  mtry = NULL,
  min.node.size = NULL,
  iterations = 500,
  ko_path = NULL,
  results_path = NULL,
  output_file_ko = NULL,
  output_file_dom = NULL
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>dat</code></td>
<td>
<p>A dataframe of data</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dep_var</code></td>
<td>
<p>The dependent variable in the dat</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>doms</code></td>
<td>
<p>A dataframe of the variables in dat and the domain they belong to</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calc_ko</code></td>
<td>
<p>True/False to calculate the knock_off importance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>calc_dom</code></td>
<td>
<p>True/False to calculate the domain importance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_folds</code></td>
<td>
<p>The number of folds to use while calculating the classification threshold for predictions</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>num_kos</code></td>
<td>
<p>The number of sets of knock off variables to create</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_all</code></td>
<td>
<p>The model to use in full ensemble mode in calculations</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>model_subset</code></td>
<td>
<p>The model to use sigularly for building ensembles from</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>mtry</code></td>
<td>
<p>The mtry value to use in the random forests</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>min.node.size</code></td>
<td>
<p>The min.node.size value to use in the random forests</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>iterations</code></td>
<td>
<p>Number of trees to build while calculating variable importance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>ko_path</code></td>
<td>
<p>Where to store the knock off variable sets</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>results_path</code></td>
<td>
<p>Where to store the intermediary results for calculating variable importance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_file_ko</code></td>
<td>
<p>Where to store the results of the knock off variable importance</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>output_file_dom</code></td>
<td>
<p>Where to store the results of the domain variable importance</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>List with 1) Threshold for binary class labeling 2) Model metrics using all variables 3) Model metrics using knock-off variables 4) Variable importance with knock-offs
</p>


<h3>Examples</h3>

<pre><code class="language-R">calc_vimps(
  data.frame(
    X1=c(2,8,3,9,1,4,3,8,0,9,2,8,3,9,1,4,3,8,0,9),
    X2=c(7,2,5,0,9,1,8,8,3,9,7,2,5,0,9,1,8,8,3,9),
    Y=c(0,0,0,0,0,1,1,1,1,1,0,0,0,0,0,1,1,1,1,1)),
 "Y",
 data.frame(domain=c('X1','X2'),
 variable=c('X1','X2')),
 num_folds=2,
 num_kos=1,
 iterations=50)

</code></pre>


</div>