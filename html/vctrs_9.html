<div class="container">

<table style="width: 100%;"><tr>
<td>df_ptype2</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Coercion between two data frames</h2>

<h3>Description</h3>

<p><code>df_ptype2()</code> and <code>df_cast()</code> are the two functions you need to
call from <code>vec_ptype2()</code> and <code>vec_cast()</code> methods for data frame
subclasses. See ?howto-faq-coercion-data-frame.
Their main job is to determine the common type of two data frames,
adding and coercing columns as needed, or throwing an incompatible
type error when the columns are not compatible.
</p>


<h3>Usage</h3>

<pre><code class="language-R">df_ptype2(x, y, ..., x_arg = "", y_arg = "", call = caller_env())

df_cast(x, to, ..., x_arg = "", to_arg = "", call = caller_env())

tib_ptype2(x, y, ..., x_arg = "", y_arg = "", call = caller_env())

tib_cast(x, to, ..., x_arg = "", to_arg = "", call = caller_env())
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x, y, to</code></td>
<td>
<p>Subclasses of data frame.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>If you call <code>df_ptype2()</code> or <code>df_cast()</code> from a
<code>vec_ptype2()</code> or <code>vec_cast()</code> method, you must forward the dots
passed to your method on to <code>df_ptype2()</code> or <code>df_cast()</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>x_arg, y_arg</code></td>
<td>
<p>Argument names for <code>x</code> and <code>y</code>. These are used
in error messages to inform the user about the locations of
incompatible types (see <code>stop_incompatible_type()</code>).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>call</code></td>
<td>
<p>The execution environment of a currently
running function, e.g. <code>caller_env()</code>. The function will be
mentioned in error messages as the source of the error. See the
<code>call</code> argument of <code>abort()</code> for more information.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>to_arg</code></td>
<td>
<p>Argument name <code>to</code> used in error messages to
inform the user about the locations of incompatible types
(see <code>stop_incompatible_type()</code>).</p>
</td>
</tr>
</table>
<h3>Value</h3>


<ul>
<li>
<p> When <code>x</code> and <code>y</code> are not compatible, an error of class
<code>vctrs_error_incompatible_type</code> is thrown.
</p>
</li>
<li>
<p> When <code>x</code> and <code>y</code> are compatible, <code>df_ptype2()</code> returns the common
type as a bare data frame. <code>tib_ptype2()</code> returns the common type
as a bare tibble.
</p>
</li>
</ul>
</div>