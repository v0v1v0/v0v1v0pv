<div class="container">

<table style="width: 100%;"><tr>
<td>import_query</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Import a query from Viva Insights Analyst Experience</h2>

<h3>Description</h3>

<p>Import a Viva Insights Query from a .csv file, with variable
classifications optimised for other functions in the package.
</p>


<h3>Usage</h3>

<pre><code class="language-R">import_query(
  x,
  pid = NULL,
  dateid = NULL,
  date_format = "%m/%d/%Y",
  convert_date = TRUE,
  encoding = "UTF-8"
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>x</code></td>
<td>
<p>String containing the path to the Viva Insights query to be
imported. The input file must be a .csv file, and the file extension must
be explicitly entered, e.g. <code>"/files/standard query.csv"</code></p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pid</code></td>
<td>
<p>String specifying the unique person or individual identifier
variable. <code>import_query</code> renames this to <code>PersonId</code> so that this is
compatible with other functions in the package. Defaults to <code>NULL</code>, where
no action is taken.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>dateid</code></td>
<td>
<p>String specifying the date variable. <code>import_query</code> renames
this to <code>MetricDate</code> so that this is compatible with other functions in the
package. Defaults to <code>NULL</code>, where no action is taken.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>date_format</code></td>
<td>
<p>String specifying the date format for converting any
variable that may be a date to a Date variable. Defaults to <code>"%m/%d/%Y"</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>convert_date</code></td>
<td>
<p>Logical. Defaults to <code>TRUE</code>. When set to <code>TRUE</code>, any
variable that matches true with <code>is_date_format()</code> gets converted to a Date
variable. When set to <code>FALSE</code>, this step is skipped.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>encoding</code></td>
<td>
<p>String to specify encoding to be used within
<code>data.table::fread()</code>. See <code>data.table::fread()</code> documentation for more
information. Defaults to <code>'UTF-8'</code>.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p><code>import_query()</code> uses <code>data.table::fread()</code> to import .csv files for
speed, and by default <code>stringsAsFactors</code> is set to FALSE. A data frame is
returned by the function (not a <code>data.table</code>). Column names are automatically
cleaned, replacing spaces and special characters with underscores.
</p>


<h3>Value</h3>

<p>A <code>tibble</code> is returned.
</p>


<h3>See Also</h3>

<p>Other Import and Export: 
<code>copy_df()</code>,
<code>create_dt()</code>,
<code>export()</code>
</p>


</div>