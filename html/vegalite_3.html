<div class="container">

<table style="width: 100%;"><tr>
<td>add_data</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Add data to a Vega-Lite spec</h2>

<h3>Description</h3>

<p>Vega-Lite is more lightweight than full Vega. However, the spec is
flexible enough to support embedded data or using external sources that
are in JSON, CSV or TSV format.
</p>


<h3>Usage</h3>

<pre><code class="language-R">add_data(vl, source, format_type = NULL)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>vl</code></td>
<td>
<p>a Vega-Lite object</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>source</code></td>
<td>
<p>you can specify a (fully qualified) URL or an existing
<code>data.frame</code> (or <code>ts</code>) object or a reference to a local file.
For the URL case, the <code>url</code> component of <code>data</code> will be set. You can help
Vega-Lite out by giving it a hint for the data type with <code>format_type</code>
but it is not required. For the local <code>data.frame</code> case it will embed
the data into the spec. For the case where a local file is specified, it
will be read in (either a JSON file, CSV file or TSV file) and converted
to a <code>data.frame</code> and embedded.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>format_type</code></td>
<td>
<p>if <code>source</code> is a URL, this should be one of <code>json</code>,
<code>csv</code> or <code>tsv</code>). It is not required and it is ignored if <code>source</code>
is not a URL.</p>
</td>
</tr>
</table>
<h3>References</h3>

<p><a href="http://vega.github.io/vega-lite/docs/data.html">Vega-Lite Data spec</a>
</p>


<h3>Examples</h3>

<pre><code class="language-R">dat &lt;- jsonlite::fromJSON('[
    {"a": "A","b": 28}, {"a": "B","b": 55}, {"a": "C","b": 43},
    {"a": "D","b": 91}, {"a": "E","b": 81}, {"a": "F","b": 53},
    {"a": "G","b": 19}, {"a": "H","b": 87}, {"a": "I","b": 52}
  ]')

vegalite() %&gt;%
  add_data(dat) %&gt;%
  encode_x("a", "ordinal") %&gt;%
  encode_y("b", "quantitative") %&gt;%
  mark_bar()
</code></pre>


</div>