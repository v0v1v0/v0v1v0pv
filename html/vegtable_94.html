<div class="container">

<table style="width: 100%;"><tr>
<td>make_cocktail</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Produce a Cocktail classification</h2>

<h3>Description</h3>

<p>Classification of vegtable objects according to <strong>Cocktail</strong>
algorithms.
</p>
<p>Cocktail algorithms are logical functions selecting plots according to
either occurrence of species groups and cover values of single species. A
group will be declared as occurring in a plot when at least a half of its
members is present in the plot.
</p>
<p>This function inserts single columns with logical values indicating whether
a plot is classified in the vegetation unit or not. An additional column
(name provided in argument <code>syntax</code>) compile all vegetation units,
indicating with a <code>+</code> symbol those plots classified in more than one
vegetation unit.
When only a part of the formulas will be used, it should be
specified by the argument <code>which</code>.
</p>
<p>These functions are implemented for constructing or complementing
shaker objects.
Note that construction of those objects will always require a <code>companion</code>
object, which is either an object of class taxlist or
vegtable.
</p>


<h3>Usage</h3>

<pre><code class="language-R">set_group(shaker, companion, group, ...)

## S4 method for signature 'shaker,taxlist,character'
set_group(
  shaker,
  companion,
  group,
  group_id,
  authority = FALSE,
  enc_cont = "latin1",
  enc_gr = "utf8",
  ...
)

## S4 method for signature 'shaker,vegtable,character'
set_group(shaker, companion, group, ...)

set_pseudo(shaker, companion, pseudo, ...)

## S4 method for signature 'shaker,taxlist,character'
set_pseudo(
  shaker,
  companion,
  pseudo,
  pseudo_id,
  authority = FALSE,
  enc_cont = "latin1",
  enc_gr = "utf8",
  ...
)

## S4 method for signature 'shaker,vegtable,character'
set_pseudo(shaker, companion, pseudo, ...)

set_formula(shaker, companion, formula, ...)

## S4 method for signature 'shaker,taxlist,character'
set_formula(
  shaker,
  companion,
  formula,
  formula_id,
  authority = FALSE,
  enc_cont = "latin1",
  enc_gr = "utf8",
  ...
)

## S4 method for signature 'shaker,vegtable,character'
set_formula(shaker, companion, formula, ...)

make_cocktail(shaker, vegtable, ...)

## S4 method for signature 'shaker,vegtable'
make_cocktail(
  shaker,
  vegtable,
  which,
  cover,
  syntax = "Syntax",
  FUN = sum,
  in_header = TRUE,
  ...
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>shaker</code></td>
<td>
<p>An object of class shaker containing the respective
cocktail definitions.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>companion</code></td>
<td>
<p>Either a taxlist or a vegtable object.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>...</code></td>
<td>
<p>Further arguments passes from or to other methods.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>authority</code></td>
<td>
<p>Logical value indicating whether author names should be
included in the taxon name or not.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>enc_cont, enc_gr</code></td>
<td>
<p>Encodings used for special characters.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pseudo, group</code></td>
<td>
<p>Character vector with names of taxa included in a
pseudo-species or a species group.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>pseudo_id, group_id, formula_id</code></td>
<td>
<p>Character value as name of the
pseudo-species, species group or defined vegetation unit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>formula</code></td>
<td>
<p>Character vector including a formula as definition of a
vegetation unit.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>vegtable</code></td>
<td>
<p>An object of class vegtable containing the
vegetation observations to be classified.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>which</code></td>
<td>
<p>Integer or character indicating the definition to be applied
for classification.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>cover</code></td>
<td>
<p>Name of the cover variable in <code>vegtable</code>.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>syntax</code></td>
<td>
<p>Character value indicating the name of the retrieved variable
including the final classification of plots.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>FUN</code></td>
<td>
<p>Function used for merging multiple occurrence of species in a
single plot.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>in_header</code></td>
<td>
<p>Logical value indicating whether results of Cocktail
classification should be inserted to the header of the input vegtable or
not. In the second case, a data frame is provided as output.</p>
</td>
</tr>
</table>
<h3>Value</h3>

<p>A data frame corresponding to the slot <code>header</code> of input object <code>vegtable</code>,
including the results of Cocktail classification for the respective plots.
</p>
<p>A shaker object.
</p>


<h3>Author(s)</h3>

<p>Miguel Alvarez <a href="mailto:kamapu78@gmail.com">kamapu78@gmail.com</a>
</p>


<h3>References</h3>

<p><b>Alvarez M (2017).</b> Classification of aquatic and
semi-aquatic vegetation in two East African sites: Cocktail definitions and
syntaxonomy. <em>Phytocoenologia</em>.
</p>
<p><b>Bruelheide H (2000).</b> A new measure of fidelity and its application to
defining species groups. <em>Journal of Vegetation Science</em> 11: 167–178.
</p>
<p><b>Kočí M, Chytrý M, Tichý L (2003).</b> Formalized reproduction of an
expert-based phytosociological classification: a case study of subalpine
tall-forb vegetation. <em>Journal of Vegetation Science</em> 14: 601–610.
</p>


<h3>See Also</h3>

<p>shaker vegtable Wetlands
</p>


<h3>Examples</h3>

<pre><code class="language-R">## Example from Alvarez (2017)
Wetlands_veg &lt;- make_cocktail(Wetlands, Wetlands_veg, cover = "percen")
summary(as.factor(Wetlands_veg@header$Syntax))

## Same but only for two vegetation units
Wetlands_veg &lt;- make_cocktail(Wetlands, Wetlands_veg,
  which = c("HY1", "HY2"), cover = "percen"
)
summary(as.factor(Wetlands_veg$Syntax))

## Construct the 'shaker' object anew
Wetlands &lt;- new("shaker")

## Set a pseudo-species
Wetlands &lt;- set_pseudo(Wetlands, Wetlands_veg, c(
  "Cyperus latifolius",
  "Cyperus exaltatus"
))

## Set a species group
Wetlands &lt;- set_group(Wetlands, Wetlands_veg,
  group_id = "Cyperus papyrus",
  group = c(
    "Cyperus papyrus",
    "Cyclosorus interruptus",
    "Lepistemon owariense"
  )
)

## Set a fromula
Wetlands &lt;- set_formula(Wetlands, Wetlands_veg,
  formula_id = "HE1",
  formula = "groups:'Cyperus papyrus' | species:'Cyperus papyrus &gt; 50'"
)

## Summaries
summary(Wetlands)
summary(Wetlands, Wetlands_veg)
</code></pre>


</div>