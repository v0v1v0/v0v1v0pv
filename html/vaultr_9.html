<div class="container">

<table style="width: 100%;"><tr>
<td>vault_client_auth_github</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>Vault GitHub Authentication Configuration</h2>

<h3>Description</h3>

<p>Vault GitHub Authentication Configuration
</p>
<p>Vault GitHub Authentication Configuration
</p>


<h3>Details</h3>

<p>Interact with vault's GitHub authentication backend.  For more
details, please see the vault documentation at
https://developer.hashicorp.com/vault/docs/auth/github
</p>


<h3>Super class</h3>

<p><code>vaultr::vault_client_object</code> -&gt; <code>vault_client_auth_github</code>
</p>


<h3>Methods</h3>



<h4>Public methods</h4>


<ul>
<li> <p><a href="#method-vault_client_auth_github-new"><code>vault_client_auth_github$new()</code></a>
</p>
</li>
<li> <p><a href="#method-vault_client_auth_github-custom_mount"><code>vault_client_auth_github$custom_mount()</code></a>
</p>
</li>
<li> <p><a href="#method-vault_client_auth_github-configure"><code>vault_client_auth_github$configure()</code></a>
</p>
</li>
<li> <p><a href="#method-vault_client_auth_github-configuration"><code>vault_client_auth_github$configuration()</code></a>
</p>
</li>
<li> <p><a href="#method-vault_client_auth_github-write"><code>vault_client_auth_github$write()</code></a>
</p>
</li>
<li> <p><a href="#method-vault_client_auth_github-read"><code>vault_client_auth_github$read()</code></a>
</p>
</li>
<li> <p><a href="#method-vault_client_auth_github-login"><code>vault_client_auth_github$login()</code></a>
</p>
</li>
</ul>
<details open><summary>Inherited methods</summary><ul>
<li><span class="pkg-link" data-pkg="vaultr" data-topic="vault_client_object" data-id="format"><a href="../../vaultr/html/vault_client_object.html#method-vault_client_object-format"><code>vaultr::vault_client_object$format()</code></a></span></li>
<li><span class="pkg-link" data-pkg="vaultr" data-topic="vault_client_object" data-id="help"><a href="../../vaultr/html/vault_client_object.html#method-vault_client_object-help"><code>vaultr::vault_client_object$help()</code></a></span></li>
</ul></details><hr>
<a id="method-vault_client_auth_github-new"></a>



<h4>Method <code>new()</code>
</h4>

<p>Create a <code>vault_client_github</code> object. Not typically
called by users.
</p>


<h5>Usage</h5>

<div class="r"><pre>vault_client_auth_github$new(api_client, mount)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>api_client</code></dt>
<dd>
<p>A vault_api_client object</p>
</dd>
<dt><code>mount</code></dt>
<dd>
<p>Mount point for the backend</p>
</dd>
</dl>
</div>


<hr>
<a id="method-vault_client_auth_github-custom_mount"></a>



<h4>Method <code>custom_mount()</code>
</h4>

<p>Set up a <code>vault_client_auth_github</code> object at a
custom mount.  For example, suppose you mounted the <code>github</code>
authentication backend at <code style="white-space: pre;">⁠/github-myorg⁠</code> you might use <code>gh &lt;- vault$auth$github2$custom_mount("/github-myorg")</code> - this
pattern is repeated for other secret and authentication
backends.
</p>


<h5>Usage</h5>

<div class="r"><pre>vault_client_auth_github$custom_mount(mount)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>mount</code></dt>
<dd>
<p>String, indicating the path that the engine is
mounted at.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-vault_client_auth_github-configure"></a>



<h4>Method <code>configure()</code>
</h4>

<p>Configures the connection parameters for
GitHub-based authentication.
</p>


<h5>Usage</h5>

<div class="r"><pre>vault_client_auth_github$configure(
  organization,
  base_url = NULL,
  ttl = NULL,
  max_ttl = NULL
)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>organization</code></dt>
<dd>
<p>The organization users must be part of
(note American spelling).</p>
</dd>
<dt><code>base_url</code></dt>
<dd>
<p>The API endpoint to
use. Useful if you are running GitHub Enterprise or an
API-compatible authentication server.</p>
</dd>
<dt><code>ttl</code></dt>
<dd>
<p>Duration after which authentication will be expired</p>
</dd>
<dt><code>max_ttl</code></dt>
<dd>
<p>Maximum duration after which authentication will
be expired</p>
</dd>
</dl>
</div>


<hr>
<a id="method-vault_client_auth_github-configuration"></a>



<h4>Method <code>configuration()</code>
</h4>

<p>Reads the connection parameters for GitHub-based
authentication.
</p>


<h5>Usage</h5>

<div class="r"><pre>vault_client_auth_github$configuration()</pre></div>


<hr>
<a id="method-vault_client_auth_github-write"></a>



<h4>Method <code>write()</code>
</h4>

<p>Write a mapping between a GitHub team or user and
a set of vault policies.
</p>


<h5>Usage</h5>

<div class="r"><pre>vault_client_auth_github$write(team_name, policies, user = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>team_name</code></dt>
<dd>
<p>String, with the GitHub team name</p>
</dd>
<dt><code>policies</code></dt>
<dd>
<p>A character vector of vault policies that this
user or team will have for vault access if they match this
team or user.</p>
</dd>
<dt><code>user</code></dt>
<dd>
<p>Scalar logical - if <code>TRUE</code>, then <code>team_name</code> is
interpreted as a <em>user</em> instead.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-vault_client_auth_github-read"></a>



<h4>Method <code>read()</code>
</h4>

<p>Write a mapping between a GitHub team or user and
a set of vault policies.
</p>


<h5>Usage</h5>

<div class="r"><pre>vault_client_auth_github$read(team_name, user = FALSE)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>team_name</code></dt>
<dd>
<p>String, with the GitHub team name</p>
</dd>
<dt><code>user</code></dt>
<dd>
<p>Scalar logical - if <code>TRUE</code>, then <code>team_name</code> is
interpreted as a <em>user</em> instead.</p>
</dd>
</dl>
</div>


<hr>
<a id="method-vault_client_auth_github-login"></a>



<h4>Method <code>login()</code>
</h4>

<p>Log into the vault using GitHub authentication.
Normally you would not call this directly but instead use
<code style="white-space: pre;">⁠$login⁠</code> with <code>method = "github"</code> and proving the <code>token</code>
argument.  This function returns a vault token but does not
set it as the client token.
</p>


<h5>Usage</h5>

<div class="r"><pre>vault_client_auth_github$login(token = NULL)</pre></div>



<h5>Arguments</h5>

<div class="arguments">

<dl>
<dt><code>token</code></dt>
<dd>
<p>A GitHub token to authenticate with.</p>
</dd>
</dl>
</div>




<h3>Examples</h3>

<pre><code class="language-R">server &lt;- vaultr::vault_test_server(if_disabled = message)
token &lt;- Sys.getenv("VAULT_TEST_AUTH_GITHUB_TOKEN")
if (!is.null(server) &amp;&amp; nzchar(token)) {
  client &lt;- server$client()

  client$auth$enable("github")
  # To enable login for members of the organisation "example":
  client$auth$github$configure(organization = "example")
  # To map members of the "robots" team *within* that organisation
  # to the "defaut" policy:
  client$auth$github$write("development", "default")

  # Once configured like this, if we have a PAT for a member of
  # the "development" team saved as an environment variable
  # "VAULT_AUTH_GITHUB_TOKEN" then doing
  #
  #   vaultr::vault_client(addr = ..., login = "github")
  #
  # will contact GitHub to verify the user token and vault will
  # then issue a client token

  # cleanup
  server$kill()
}
</code></pre>


</div>