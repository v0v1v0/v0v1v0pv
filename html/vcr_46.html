<div class="container">

<table style="width: 100%;"><tr>
<td>vcr-package</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>vcr: Record 'HTTP' Calls to Disk</h2>

<h3>Description</h3>

<p>Record test suite 'HTTP' requests and replays them during future runs. A port of the Ruby gem of the same name (<a href="https://github.com/vcr/vcr/">https://github.com/vcr/vcr/</a>). Works by hooking into the 'webmockr' R package for matching 'HTTP' requests by various rules ('HTTP' method, 'URL', query parameters, headers, body, etc.), and then caching real 'HTTP' responses on disk in 'cassettes'. Subsequent 'HTTP' requests matching any previous requests in the same 'cassette' use a cached 'HTTP' response.
</p>


<h3>Backstory</h3>

<p>A Ruby gem of the same name (<code>VCR</code>, <a href="https://github.com/vcr/vcr">https://github.com/vcr/vcr</a>) was
created many years ago and is the original. Ports in many languages
have been done. Check out that GitHub repo for all the details on
how the canonical version works.
</p>


<h3>Main functions</h3>

<p>The use_cassette function is most likely what you'll want to use. It
sets the cassette you want to record to, inserts the cassette, and then
ejects the cassette, recording the interactions to the cassette.
</p>
<p>Instead, you can use insert_cassette, but then you have to make sure
to use eject_cassette.
</p>


<h3>vcr configuration</h3>

<p>vcr_configure is the function to use to set R session wide settings.
See it's manual file for help.
</p>


<h3>Record modes</h3>

<p>See recording for help on record modes.
</p>


<h3>Request matching</h3>

<p>See request-matching for help on the many request matching options.
</p>


<h3>Async</h3>

<p>As of <span class="pkg">crul</span> v1.5, <code>vcr</code> will work for async http requests with
<span class="pkg">crul</span>. <span class="pkg">httr</span> does not do async requests, and <span class="pkg">httr2</span>
async plumbing does not have any hooks for mocking via <span class="pkg">webmockr</span>
or recording real requests via this package
</p>


<h3>Author(s)</h3>

<p><strong>Maintainer</strong>: Scott Chamberlain <a href="mailto:sckott@protonmail.com">sckott@protonmail.com</a> (<a href="https://orcid.org/0000-0003-1444-9135">ORCID</a>)
</p>
<p>Authors:
</p>

<ul>
<li>
<p> Aaron Wolen (<a href="https://orcid.org/0000-0003-2542-2202">ORCID</a>)
</p>
</li>
<li>
<p> MaÃ«lle Salmon (<a href="https://orcid.org/0000-0002-2815-0399">ORCID</a>)
</p>
</li>
<li>
<p> Daniel Possenriede (<a href="https://orcid.org/0000-0002-6738-9845">ORCID</a>)
</p>
</li>
</ul>
<p>Other contributors:
</p>

<ul><li>
<p> rOpenSci (https://ropensci.org) [funder]
</p>
</li></ul>
<h3>See Also</h3>

<p>Useful links:
</p>

<ul>
<li> <p><a href="https://github.com/ropensci/vcr/">https://github.com/ropensci/vcr/</a>
</p>
</li>
<li> <p><a href="https://books.ropensci.org/http-testing/">https://books.ropensci.org/http-testing/</a>
</p>
</li>
<li> <p><a href="https://docs.ropensci.org/vcr/">https://docs.ropensci.org/vcr/</a>
</p>
</li>
<li>
<p> Report bugs at <a href="https://github.com/ropensci/vcr/issues">https://github.com/ropensci/vcr/issues</a>
</p>
</li>
</ul>
</div>