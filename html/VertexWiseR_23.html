<div class="container">

<table style="width: 100%;"><tr>
<td>SURFvextract</td>
<td style="text-align: right;">R Documentation</td>
</tr></table>
<h2>SURFvextract</h2>

<h3>Description</h3>

<p>Extracts whole-brain vertex-wise surface-based measures for each subject in a 'FreeSurfer' output subjects directory, resamples the data to a common surface template, and stores it as a .rds file. This function requires the 'FreeSurfer' environment to be preset and a 'FreeSurfer' license key.
</p>


<h3>Usage</h3>

<pre><code class="language-R">SURFvextract(
  sdirpath = "./",
  filename,
  template = "fsaverage5",
  measure = "thickness",
  subj_ID = TRUE
)
</code></pre>


<h3>Arguments</h3>

<table>
<tr style="vertical-align: top;">
<td><code>sdirpath</code></td>
<td>
<p>A string object containing the path to the 'FreeSurfer' subjects directory. Default is the current working directory ("./").</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>filename</code></td>
<td>
<p>A string object containing the desired name of the output RDS file. Default is 'brain_measure.rds' in the R temporary directory (tempdir()).</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>template</code></td>
<td>
<p>A string object containing the name of surface template (available: 'fsaverage5', 'fsaverage6'). Default is fsaverage5.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>measure</code></td>
<td>
<p>A string object containing the name of the measure of interest. Options are thickness, curv, sulc, area, and volume (for freesurfer 7.4.1 or later). Default is thickness.</p>
</td>
</tr>
<tr style="vertical-align: top;">
<td><code>subj_ID</code></td>
<td>
<p>A logical object stating whether to include subject IDs (folder names in the subjects directory) as a first column to the output matrix. Default is TRUE.</p>
</td>
</tr>
</table>
<h3>Details</h3>

<p>The function runs system shell commands that will produce in the set subjects directory: 1) a sorted list of subjects "sublist.txt"; 2) a link file to the selected surface fsaverage template. 3) left and right hemisphere .mgh maps outputted by 'FreeSurfer' 's mris_preproc.
</p>


<h3>Value</h3>

<p>A .RDSfile with a list containing 1. the list of subject IDs (first element) and 2. a surface data matrix object (second element), or only a data matrix object. The matrix has N subjects x M vertices dimensions and can be used readily by VertexWiseR statistical analysis functions. Each row corresponds to a subject (in the order they are listed in the folder) and contains the left to right hemispheres' vertex-wise values.
</p>


<h3>Examples</h3>

<pre><code class="language-R">SURFvextract(sdirpath = "freesurfer_subjdir", 
filename=paste0(tempdir(), "/CTv.rds"), template="fsaverage5",
measure="curv") 
</code></pre>


</div>